# Shinjuku Build Process

Documentation to ensure that the build/release process is performed consistently.

Many of these steps are manual because they are done infrequently.
Tasks that happen more often will typically be streamlined using scripts.


## Map Updates

If the map has been updated:

Export the following map images at 300dpi:
	Layer "Border 18x20" export as "tokyo-map-border-300dpi.png" (6000x5400 pixels)
	Layer "View 18x80" export as "tokyo-map-18x20-300dpi.png"  (6000x5400 pixels)
		Hide layer after selecting rect
	Layer "View 18x20 + 1/8 bleed" as ""tokyo-map-18x20-bleed-300dpi.png"  (6075x5475 pixels)
		Hide layer after selecting rect

In Affinity Photo, open "tokyo-map-border-300dpi.png":
	Export full size as JPG quality 80 "tokyo-map-border-300dpi.jpg"
		This reduces file size from 22M -> 7M
	Export 1000x900 as PNG "tokyo-map.png"
	Export 1000x900 as JPG quality 80 "tokyo-map-sm.jpg"

### Update map archive

Update archive/tokyo-map images with the 1000x900px png and jpg files.

### Update rulebook images

Each map image in the rulebook has a corresponding "Overlay" layer in the map SVG file.
To export an overlay image
* Show the "Overlay Background" layer. This lightens the map so that the pieces stand out.
* Show the layer to be exported (e.g., "Overlay: Move Example 1")
* Select the bounding box in this layer
* Temporarily hide the bounding box by turning off the stroke
* Export the selection at 150dpi. Because the name is associated with the bounding box, it will default to the correct value
* Re-enable the bounding box stroke
* Re-hide the layer and the Overlay Background layer.

Follow-up questions if the map is updated:
* Do the cards need to be updated?


## Rulebook Updates

If the rulebook has been updated:

Update both the Rules and the Quickstart so that they remain consistent.
The rules summary on the player screen may need to be updated as well.

### Export both Letter and A4

In Affinity Publisher:
	Open "Spread Setup", select "All Spreads" and set to "A4"
	Export PDF into "shinjuku_quickstart_a4.pdf"

	Open "Spread Setup", select "All Spreads" and set to "Letter (ANSI A)"
	Export PDF into "shinjuku_quickstart.pdf"
	
### Update BGG

If this is a significant update, then update the rules on BoardGameGeek.

Duplicate the A4 version, remove "_a4" and add "_rXX" where XX is the current revision.

Upload the updated documents to BoardGameGeek:
	https://boardgamegeek.com/filepage/186374/shinjuku-rules-play
	https://boardgamegeek.com/filepage/186375/shinjuku-quickstart-guide

## Screen Updates

